/*! angularjsappl - v1.0.0 - 2016-08-08 */!function(){"use strict";function ChargeEntryController($scope,$http,growl,ChargeValidator,DbActionHandler,DropdownConfig,$timeout,$controller){var vm=this;vm.form={},angular.extend(vm,$controller("AbstractEntryController",{$scope:vm,DbActionHandler:DbActionHandler,validator:ChargeValidator,growl:growl,entryScreenName:"Charge Entry",confirmUrl:"/confirmChargeForm"})),vm.init=function(argument){vm.headerName="Charge Entry",vm.form.chargeName=void 0,vm.form.chargeId=void 0,vm.form.chargeCcy=void 0,vm.form.chargeTimeBasis=void 0,vm.form.chargeAmt=void 0,vm.chargeTimeBasisValues=DropdownConfig.dropdown.charge.entry.chargeTimeBasis,vm.EditMode=!0},vm.init()}angular.module("billingApp").controller("ChargeEntryController",ChargeEntryController)}(),function(){"use strict";function ClientEntryController($scope,$http,clientFactory,growl,ClientValidator,DbActionHandler,DropdownConfig,DatepickerConfig,$timeout,$controller){var vm=this,form={};vm.form=form,angular.extend(vm,$controller("AbstractEntryController",{$scope:vm,DbActionHandler:DbActionHandler,validator:ClientValidator,growl:growl,entryScreenName:"Client Entry",confirmUrl:"/confirmForm"})),vm.init=function(){vm.headerName="Client Entry",vm.form.name="",vm.form.clientId="",vm.form.password="",vm.form.confirmPassword="",vm.form.ipAddress="",vm.form.macAddress="",vm.form.dt="",vm.uidTypes=DropdownConfig.dropdown.client.entry.uidTypes,vm.clientTypes=DropdownConfig.dropdown.client.entry.clientTypes,vm.form.uidType="",vm.form.uidNumber="",vm.form.clientAge="",vm.form.clientType="",vm.EditMode=!0},vm.init(),vm.dateOptions=DatepickerConfig.dateOptions,vm.format=DatepickerConfig.format,vm.DobPopup={opened:!1},vm.openDobPopup=function(){vm.DobPopup.opened=!0}}angular.module("billingApp").controller("ClientEntryController",ClientEntryController)}(),function(){"use strict";function ClientQueryController($scope,$http,$filter,clientFactory,PaginationService,growl,$timeout){var vm=this;vm.queryForm={},vm.pager={},vm.initQuery=function(){vm.headerName="Client Query",vm.queryForm.name=void 0,vm.queryForm.clientId=void 0,vm.queryForm.ipAddress=void 0,vm.queryForm.macAddress=void 0,vm.disableQueryResult(),vm.initGrid()},vm.disableQueryResult=function(){vm.enabledCustInq=!1},vm.enableQueryResult=function(){vm.enabledCustInq=!0},vm.initGrid=function(){vm.dataGridOptions={enableFiltering:!0,enableGridMenu:!0,enableSelectAll:!0,exporterCsvFilename:"clients.csv",exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),exporterMenuPdf:!1,onRegisterApi:function(gridApi){vm.gridApi=gridApi},data:[]};var gridCols=[{field:"name",displayName:"Client Name"},{field:"clientId",displayName:"Client Id"},{field:"uidType",displayName:"UID Type"},{field:"uidNumber",displayName:"UID Number"},{field:"dt",displayName:"DOB"},{field:"ipAddress",displayName:"IP Address"},{field:"macAddress",displayName:"MAC Address"}];vm.dataGridOptions.columnDefs=gridCols},vm.initQuery(),vm.initPagination=function(){var pager=PaginationService.getPager(5,vm.clients.length);vm.pager=pager,vm.currentPage=1,vm.totalPages=pager.totalPages,vm.recordPerPage=pager.recordPerPage,vm.dataGridOptions.data=vm.clients.slice(vm.pager.getStartIndex(),vm.pager.getEndIndex())},vm.createNgetClient=function(){var client={};return""!==vm.queryForm.name&&(client.name=vm.queryForm.name),""!==vm.queryForm.clientId&&(client.clientId=vm.queryForm.clientId),""!==vm.queryForm.ipAddress&&(client.ipAddress=vm.queryForm.ipAddress),""!==vm.queryForm.macAddress&&(client.macAddress=vm.queryForm.macAddress),client},vm.customerInquery=function(){vm.enableQueryResult(),vm.fetchResult()},vm.fetchResult=function(){$http.post("/getClients",vm.createNgetClient()).success(function(data){$timeout(function(){vm.clients=data,vm.initPagination()})})}}angular.module("billingApp").controller("ClientQueryController",ClientQueryController)}(),function(){"use strict";function DashboardController($scope,$http,growl,$timeout,$state,$interval,$uibModal,$log){var vm=this;vm.labels=[],vm.data=[],vm.getReqData=function(dt){var client={};return client.name=dt,client};var y=function(){if(vm.temp.length>0){vm.data=[],vm.labels=[];for(var i=0;i<vm.temp.length;i++){var clientType=vm.temp[i]._id.clientType;vm.data.push(vm.temp[i].count),vm.labels.push(null===clientType?"Not mentioned":clientType)}}},x=function(){vm.temp=[],$http.post("/getCounts",vm.getReqData("sofikul")).success(function(clients){angular.isDefined(clients)&&(vm.temp=clients)}),$http.post("/getClientsCount",vm.getReqData("sofikul")).success(function(clientsCount){angular.isDefined(clientsCount)&&(vm.clientsCount=clientsCount)}),$http.post("/getChargesCount",vm.getReqData("sofikul")).success(function(chargesCount){angular.isDefined(chargesCount)&&(vm.chargesCount=chargesCount)})};x(),y(),$interval(x,12e3),$interval(y,15e3),vm.hzBarChart={},vm.hzBarChart.labels=["2006","2007","2008","2009","2010","2011","2012"],vm.hzBarChart.series=["Series A","Series B"],vm.hzBarChart.data=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],vm.items=["item1","item2","item3"],$scope.open=function(size){var modalInstance=$uibModal.open({animation:!0,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:size,resolve:{items:function(){return vm.items}}});modalInstance.result.then(function(selectedItem){vm.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})}}angular.module("billingApp").controller("DashboardController",DashboardController)}(),angular.module("billingApp").controller("ModalInstanceCtrl",function($scope,$uibModalInstance,items){$scope.items=items,$scope.selected={item:$scope.items[0]},$scope.ok=function(){$uibModalInstance.close($scope.selected.item)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}),function(){"use strict";function LogInController($scope,$http,growl,$timeout,$state,$rootScope,$stateParams,LoginService,UserService){var vm=this;vm.userName=void 0,vm.userPassword=void 0,vm.userRole=void 0,vm.loginHandler=function(){LoginService.validate({userName:vm.userName,userPassword:vm.userPassword,userRole:vm.userRole}),$rootScope.$on("loginFailure",function(event,data){alert("Hey "+data.user+"! You are not a valid user.\nPlease check your credentials")})}}angular.module("billingApp").controller("LogInController",LogInController)}(),function(){function MenuController($state,$rootScope,UserService){var vm=this;vm.header="Menu Items",vm.loggedInUser=UserService.getLoggedInUser().name,vm.menuList=[{name:"Client Management",link:"#",subMenu:[{name:"Client Entry",link:"/clientEntry"},{name:"Client Amend",link:"/clientAmend"},{name:"Client Cancel",link:"/clientCancel"}]},{name:"Sys Controll",link:"/sysControll",subMenu:[]}],vm.redirectToLogIn=function(){$state.go("login")},$rootScope.$on("unAuthorizedAccess",function(data){alert("You don't have permission to access this.")}),vm.expireSession=function(){UserService.expireSession(),$state.go("login")}}angular.module("billingApp").controller("menuCtrl",MenuController)}();